<!DOCTYPE html>

<html>
<!-- preload all Google materials/icons,vueJS, vuetify, and vueCSS and favicon -->
<head>
  <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <!-- <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"> -->
  <link rel="shortcut icon" type="image/png" href="jungle/static/images/favicon.png"/>


  <!-- css -->
  <link href="{{=URL('static', 'css/post_pet.css')}}" rel="stylesheet" type="text/css"/>
  <!-- <link href="{{=URL('static', 'css/stupid.css')}}" rel="stylesheet" type="text/css" /> -->

  <!-- api -->

<script>
  var get_pet_list_url = "{{=URL('api', 'get_pets_list')}}";
  var add_pet_url = "{{=URL('api', 'add_pet', user_signature=True)}}";
  var get_pet_data_url = "{{=URL('api', 'get_pet_data')}}";

</script>

</head>

<body>


<!-- MARK: Main Page -->


<div id="app">
  <div v-show="on_main_page" id="main_page">
    <v-toolbar dark tabs flat color="light green">
      <v-toolbar-side-icon @click="sidebar = !sidebar"></v-toolbar-side-icon>
      <a href="/jungle" >
        <img src="jungle\static\images\favicon.png" height="38px" width="38px">
      </a>
      <v-toolbar-title>The Jungle</v-toolbar-title>
      <v-spacer></v-spacer>
      <v-text-field
      hide-details
      prepend-icon="search"
      single-line
      ></v-text-field>
      <v-spacer></v-spacer>
      <v-btn icon href="/jungle/default/user">
        <!-- 3 vertical dots button -->
        <v-icon>more_vert</v-icon>
      </v-btn>
    </v-toolbar>


    <!-- MARK: Main feed -->
    <!-- TODO: css -->

    <div v-show="main.show_feed" id="pet_list">
      <div class="main.pet_list" v-for="i in main.pet_grid_rows">
        <template>
        <v-container grid-list-md>
          <v-layout row>
            <v-flex v-for="j in 3" :key="`4${j}`">
                <v-card v-if="main.pet_list[(i-1) * 3 + (j-1)] !== undefined"
                v-on:click="pet_page(main.pet_list[(i-1) * 3 + (j-1)].id)">
                  <v-img
                    width="300px"
                    height="300px"
                    v-bind:src="main.pet_list[(i-1) * 3 + (j-1)].pet_image_url"
                  ></v-img>
                  <v-card-title>
                    <div>
                    <div>
                      <div class="pet_date" v-bind:text-content.prop="main.pet_list[(i-1) * 3 + (j-1)].pet_date"></div>
                      <div class="pet_title red--text" v-bind:text-content.prop="main.pet_list[(i-1) * 3 + (j-1)].pet_title"></div>
                      <div class="pet_price blue--text" v-bind:text-content.prop="main.pet_list[(i-1) * 3 + (j-1)].pet_price">$</div>
                      <div class="pet_description grey--text" v-bind:text-content.prop="main.pet_list[(i-1) * 3 + (j-1)].pet_description"></div>
                    </div>
                  </v-card-title>
                </v-card>
              </v-flex>
            </v-layout>
        </v-container>
      </template>
      </div>
    </div>


    <!-- the bottom right create a new post button -->
    <v-btn
        v-on:click="post_pet_page();"
        color="red"
        dark
        fab
        fixed
        bottom
        right
    >
    <v-icon> add <v-icon>
  </v-btn>
  </div>


  <!-- MARK: Post Pet Page -->
<v-layout justify-center>
  <v-flex xs12 sm10 md8 lg6>
    <v-card ref="form">
      <v-card-text>

      <div v-if="on_post_pet_page">

      <!-- Title -->
      <div class="pet_title">
        <v-text-field
        v-model="post_pet.pet_title"
        label="Title of post"
        box
        color="green"
        counter
        maxlength="80"
        required
        ></v-text-field>
      </div>

      <!-- Description -->
      <div class="pet description">
        <v-textarea
        v-model="post_pet.pet_description"
        v-model="form.bio"
        rows="1"
        auto-grow
        label="Tell us about your pet!"
        box
        color="green"
        counter
        maxlength="200"
        ></v-textarea>
      </div>

      <!-- Pet type -->
      <div class="pet_type">
        <div class="child inline-block-child"></h4>What kind of pet are they?</h4></div>
        <div class="child inline-block-child"><select v-model="post_pet.pet_type" class="petTypeSelector">
          <option disabled value="">Please select a type listed or 'Other'</option>
          <option>Dog</option>
          <option>Cat</option>
          <option>Reptile</option>
          <option>Bird</option>
          <option>Farm</option>
          <option>Other</option>
        </select></div>
        <span>
      </div>

      <!-- price -->
      <div class="pet_price_input">
        <v-text-field
          v-model="post_pet.pet_price"
          label="Amount"
          value="10.00"
          prefix="$"
          color="green"
        ></v-text-field>
      </div>

      <!-- contact information -->
      <div class="contact_info">
        <v-text-field
          v-model="post_pet.pet_owner_phone_number"
          v-model="phone"
          box
          color="green"
          label="Phone number"
          mask="phone"
          required
          ></v-text-field>
      </div>

      <!-- Image uploading -->
      <h6> Upload an image </h6>
      <div id="pet_images">
        <input type="file" accept="image/*" @change="onFileChange($event); change_image_url($event)"/>
        <div class="preview">
          <img :src="post_pet.image_url"/>
        </div>
      </div>
    </div>

    <v-card-actions>
    <!-- cancel button -->
        <v-btn
        id="cancel"
        v-on:click="cancel_button_clicked();"
        flat
        >Cancel</v-btn>
          <v-spacer></v-spacer>
      <!-- Submit button -->
        <v-btn
        id="submit"
        v-on:click="submit_button_clicked();"
        flat
        >Submit</button>
      </v-btn>
    </v-card-actions>
  <!-- MARK: Pet page -->
  <div v-if="on_pet_page" class="pet_page">
    <div class="back button">
      <button v-on:click="back_button_clicked();" class="backButton">Back</button>
    </div>


    <div class="single_pet_title" v-bind:text-content.prop="pet.pet_title"></div>


    <div class="single_pet_image">
      <div class="preview">
        <img :src="pet.pet_image_url"/>
      </div>
    </div>


    <div class="single_pet_description" v-bind:text-content.prop="pet.pet_description"></div>

    <div class="single_pet_type" v-bind:text-content.prop="pet.pet_type"></div>

    <div class="single_pet_price" v-bind:text-content.prop="pet.pet_price"></div>

    <div class="single_pet_date" v-bind:text-content.prop="pet.pet_date"></div>

    <div class="single_pet_phone_number" v-bind:text-content.prop="pet.pet_owner_phone_number"></div>

    <div class="single_pet_phone_number" v-bind:text-content.prop="pet.pet_owner_email"></div>



  </div>

    </v-card>
  </v-flex>
</v-layout>


</div>


</body>

  <script src="{{=URL('static', 'js/default_index.js')}}"></script>

</html>
