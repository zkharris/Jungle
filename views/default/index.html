<!DOCTYPE html>

<html>
<!-- preload all Google materials/icons,vueJS, vuetify, and vueCSS and favicon -->
<head>
  <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>    
  <script src="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <!-- <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"> -->
  <link rel="shortcut icon" type="image/png" href="../static/images/favicon.png"/>


  <!-- css -->
  <link href="{{=URL('static', 'css/post_pet.css')}}" rel="stylesheet" type="text/css"/>
  <!-- <link href="{{=URL('static', 'css/stupid.css')}}" rel="stylesheet" type="text/css" /> -->



  <!-- api -->

<script>
  var get_pet_list_url = "{{=URL('api', 'get_pets_list')}}";
  var add_pet_url = "{{=URL('api', 'add_pet', user_signature=True)}}";
  var get_pet_data_url = "{{=URL('api', 'get_pet_data')}}";

</script>

</head>

<body>


<!-- MARK: Main Page -->


<div id="app">
  <div v-show="on_main_page" id="main_page">
    <v-toolbar dark tabs flat color="light green">
      <v-toolbar-side-icon @click="sidebar = !sidebar"></v-toolbar-side-icon>
      <a href="/" >
        <img src="../static/images/favicon.png" height="38px" width="38px">
      </a>
      <v-toolbar-title>The Jungle</v-toolbar-title>
      <v-spacer></v-spacer>
      <v-text-field
      hide-details
      prepend-icon="search"
      single-line
      ></v-text-field>
      <v-spacer></v-spacer>
      <v-btn icon href="/jungle/default/user">
        <!-- 3 vertical dots button --> 
        <v-icon>more_vert</v-icon>
      </v-btn>
    </v-toolbar>


    <!-- MARK: Main feed -->
    <!-- TODO: css -->

    <div v-show="main.show_feed" id="pet_list">
      <div class="main.pet_list" v-for="i in main.pet_grid_rows">
        <template>
        <v-container grid-list-md> 
          <v-layout row>
            <v-flex v-for="j in 3" :key="`4${j}`">
                <v-card v-if="main.pet_list[(i-1) * 3 + (j-1)] !== undefined"
                v-on:click="pet_page(main.pet_list[(i-1) * 3 + (j-1)].id)">
                  <v-img 
                    class="white--text"
                    width="300px"
                    height="300px"
                    v-bind:src="main.pet_list[(i-1) * 3 + (j-1)].pet_image_url"
                  >
                  </v-img>
                  <v-card-title>
                    <div>
                    <div>
                      <div class="main_pet_date" v-bind:text-content.prop="main.pet_list[(i-1) * 3 + (j-1)].pet_date"></div>
                      <div class="main_pet_title" v-bind:text-content.prop="main.pet_list[(i-1) * 3 + (j-1)].pet_title"></div>
                      <div class="main_pet_price" v-bind:text-content.prop="main.pet_list[(i-1) * 3 + (j-1)].pet_price">$</div>
                    </div>
                  </v-card-title>
                </v-card>
              </v-flex>
            </v-layout>
        </v-container>
      </template>
      </div>
    </div>


    <!-- the bottom right create a new post button -->
    <v-btn
        v-on:click="post_pet_page();"
        color="red"
        dark
        fab
        fixed
        bottom
        right
    >
    <v-icon> edit <v-icon>
    <!-- right below is if I want to create a cancel button -->
    <!-- <v-icon> close <v-icon> -->
  </v-btn>
  </div>


  <!-- MARK: Post Pet Page -->
  <!-- TODO: css -->

  <div v-if="on_post_pet_page">
 
  <div class="cancel_button">
    <button id="cancel" v-on:click="cancel_button_clicked();">Cancel</button>
  </div>
  
  <div class="container">
    <div class="half">
      
      
      <!-- Title -->
      <h6>Title of post</h6>
      <div class="post_pet_title">
        <input v-model="post_pet.pet_title" placeholder="Title" class="titleInputTextArea"/>
      </div>
      
      <!-- Description -->

      <h6>Tell us about your pet!</h6>
      <div class="post_pet description">
        <textarea v-model="post_pet.pet_description" placeholder="Description" class="     descriptionInputTextArea"></textarea>
      </div>
      
      <!-- Pet type -->
      
      <div class="post_pet_type">
        <div class="child inline-block-child"></h4>What kind of pet are they?</h4></div>
        <div class="child inline-block-child"><select v-model="post_pet.pet_type" class="petTypeSelector">
          <option disabled value="">Please select a type listed or 'Other'</option>
          <option>Dog</option>
          <option>Cat</option>
          <option>Reptile</option>
          <option>Bird</option>
          <option>Farm</option>
          <option>Other</option>
        </select></div>
        <span>
      </div>

      <!-- price -->

      <div class="post_pet_price_input">
        <div class="child inline-block-child"><p>Price</p></div>
        <div class="child inline-block-child"><input v-model="post_pet.pet_price" class="pet_price_input_text_area"></input></div>
      </div>

    
      <!-- contact information -->
    
      <div class="post_contact_info">
        <div class="child inline-block-child"><p>Please enter phone number if you would prefer to be contacted by phone</p></div>
        <div class="child inline-block-child"><input v-model="post_pet.pet_owner_phone_number" placeholder="(###)-###-####" class="phoneNumberInputTextArea"/></div>
      </div>
    
      <!-- Submit button -->
      <div class="submit_button">
        <button v-on:click="submit_button_clicked();" class="submitButton">Submit</button>
      </div>
    </div>

    <div class="half">
      <!-- Image uploading -->
      <h6> Upload an image </h6>
      <div id="pet_images">
        <input type="file" accept="image/*" @change="onFileChange($event); change_image_url($event)"/>
        <div class="preview">
          <img :src="post_pet.image_url"/>
        </div>
      </div>
    </div>
    </div>
  </div>


  <!-- MARK: Pet page -->
  <!-- TODO: css, everything -->


  <div v-if="on_pet_page" class="pet_page">
    <div class="back button">
      <button v-on:click="back_button_clicked();" class="backButton">Back</button>
    </div>
    
    
    <div class="single_pet_title" v-bind:text-content.prop="pet.pet_title"></div>
    

    <div class="single_pet_image">
      <div class="preview">
        <img :src="pet.pet_image_url"/>
      </div>
    </div>


    <div class="single_pet_description" v-bind:text-content.prop="pet.pet_description"></div>

    <div class="single_pet_type" v-bind:text-content.prop="pet.pet_type"></div>

    <div class="single_pet_price" v-bind:text-content.prop="pet.pet_price"></div>

    <div class="single_pet_date" v-bind:text-content.prop="pet.pet_date"></div>

    <div class="single_pet_phone_number" v-bind:text-content.prop="pet.pet_owner_phone_number"></div>

    <div class="single_pet_phone_number" v-bind:text-content.prop="pet.pet_owner_email"></div>



  </div>





</div>


</body>

  <script src="{{=URL('static', 'js/default_index.js')}}"></script>

</html>
